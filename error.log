{"error":"Cannot read properties of null (reading 'title')","guild":"1376318047794761838","level":"error","message":"Playback error occurred","service":"bilibili-discord-bot","timestamp":"2025-09-01T10:00:13.518Z","track":"韩红-一个人 伴奏 高音质纯伴奏高品每天爱你多一些 长宇 晨悠组合 无损伴奏"}
{"code":224,"level":"error","message":"FFmpeg process exited with error","service":"bilibili-discord-bot","stderr":"[aost#0:0/libopus @ 0x146079180] Error submitting a packet to the muxer: Broken pipe\n    Last message repeated 1 times\n[out#0/opus @ 0x14607c1f0] Error muxing a packet\n[out#0/opus @ 0x14607c1f0] Task finished with error code: -32 (Broken pipe)\n[out#0/opus @ 0x14607c1f0] Terminating thread with return code -32 (Broken pipe)\n[out#0/opus @ 0x14607c1f0] Error writing trailer: Broken pipe\n[out#0/opus @ 0x14607c1f0] Error closing file: Broken pipe\n","timestamp":"2025-09-01T10:06:07.675Z"}
{"code":224,"level":"error","message":"FFmpeg process exited with error","service":"bilibili-discord-bot","stderr":"[aost#0:0/libopus @ 0x155351830] Error submitting a packet to the muxer: Broken pipe\n    Last message repeated 1 times\n[out#0/opus @ 0x15534e320] Error muxing a packet\n[out#0/opus @ 0x15534e320] Task finished with error code: -32 (Broken pipe)\n[out#0/opus @ 0x15534e320] Terminating thread with return code -32 (Broken pipe)\n[out#0/opus @ 0x15534e320] Error writing trailer: Broken pipe\n[out#0/opus @ 0x15534e320] Error closing file: Broken pipe\n","timestamp":"2025-09-01T10:06:10.219Z"}
{"level":"error","message":"Max retry attempts reached, skipping track","service":"bilibili-discord-bot","timestamp":"2025-09-01T10:06:12.725Z","title":"韩红-一个人 伴奏 高音质纯伴奏高品每天爱你多一些 长宇 晨悠组合 无损伴奏"}
{"code":224,"level":"error","message":"FFmpeg process exited with error","service":"bilibili-discord-bot","stderr":"[aost#0:0/libopus @ 0x125063920] Error submitting a packet to the muxer: Broken pipe\n    Last message repeated 1 times\n[out#0/opus @ 0x125060440] Error muxing a packet\n[out#0/opus @ 0x125060440] Task finished with error code: -32 (Broken pipe)\n[out#0/opus @ 0x125060440] Terminating thread with return code -32 (Broken pipe)\n[out#0/opus @ 0x125060440] Error writing trailer: Broken pipe\n[out#0/opus @ 0x125060440] Error closing file: Broken pipe\n","timestamp":"2025-09-01T10:06:12.732Z"}
{"error":"Cannot read properties of null (reading 'title')","level":"error","message":"Retry failed","service":"bilibili-discord-bot","timestamp":"2025-09-01T10:06:13.287Z"}
{"level":"error","message":"Max retry attempts reached, skipping track","service":"bilibili-discord-bot","timestamp":"2025-09-01T10:06:14.039Z","title":"韩红-一个人 伴奏 高音质纯伴奏高品每天爱你多一些 长宇 晨悠组合 无损伴奏"}
{"code":224,"level":"error","message":"FFmpeg process exited with error","service":"bilibili-discord-bot","stderr":"[aost#0:0/libopus @ 0x155796000] Error submitting a packet to the muxer: Broken pipe\n    Last message repeated 1 times\n[out#0/opus @ 0x1557912f0] Error muxing a packet\n[out#0/opus @ 0x1557912f0] Task finished with error code: -32 (Broken pipe)\n[out#0/opus @ 0x1557912f0] Terminating thread with return code -32 (Broken pipe)\n[out#0/opus @ 0x1557912f0] Error writing trailer: Broken pipe\n[out#0/opus @ 0x1557912f0] Error closing file: Broken pipe\n","timestamp":"2025-09-01T10:06:14.046Z"}
{"level":"error","message":"Unhandled promise rejection","promise":{},"reason":"Cannot read properties of null (reading 'title')","service":"bilibili-discord-bot","stack":"TypeError: Cannot read properties of null (reading 'title')\n    at AudioPlayer.playCurrentTrack (/Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/audio/player.js:319:34)\n    at async AudioPlayer.skip (/Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/audio/player.js:473:14)\n    at async AudioPlayer.handleTrackEnd (/Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/audio/player.js:586:7)","timestamp":"2025-09-01T10:06:14.362Z"}
{"code":1,"level":"error","message":"yt-dlp failed to get video info","service":"bilibili-discord-bot","stderr":"ERROR: [BiliBili] BV1uv4y1q7Mv: No video formats found!; please report this issue on  https://github.com/yt-dlp/yt-dlp/issues?q= , filling out the appropriate issue template. Confirm you are on the latest version using  yt-dlp -U\n","timestamp":"2025-09-01T10:11:41.135Z","url":"https://www.bilibili.com/video/BV1uv4y1q7Mv"}
{"error":"yt-dlp exited with code 1: ERROR: [BiliBili] BV1uv4y1q7Mv: No video formats found!; please report this issue on  https://github.com/yt-dlp/yt-dlp/issues?q= , filling out the appropriate issue template. Confirm you are on the latest version using  yt-dlp -U\n","level":"error","message":"Audio extraction failed","service":"bilibili-discord-bot","stack":"Error: yt-dlp exited with code 1: ERROR: [BiliBili] BV1uv4y1q7Mv: No video formats found!; please report this issue on  https://github.com/yt-dlp/yt-dlp/issues?q= , filling out the appropriate issue template. Confirm you are on the latest version using  yt-dlp -U\n\n    at ChildProcess.<anonymous> (/Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/audio/extractor.js:118:18)\n    at ChildProcess.emit (node:events:507:28)\n    at maybeClose (node:internal/child_process:1101:16)\n    at ChildProcess._handle.onexit (node:internal/child_process:305:5)","timestamp":"2025-09-01T10:11:41.135Z","url":"https://www.bilibili.com/video/BV1uv4y1q7Mv"}
{"error":"Audio extraction failed: yt-dlp exited with code 1: ERROR: [BiliBili] BV1uv4y1q7Mv: No video formats found!; please report this issue on  https://github.com/yt-dlp/yt-dlp/issues?q= , filling out the appropriate issue template. Confirm you are on the latest version using  yt-dlp -U\n","level":"error","message":"Failed to play Bilibili video","service":"bilibili-discord-bot","stack":"Error: Audio extraction failed: yt-dlp exited with code 1: ERROR: [BiliBili] BV1uv4y1q7Mv: No video formats found!; please report this issue on  https://github.com/yt-dlp/yt-dlp/issues?q= , filling out the appropriate issue template. Confirm you are on the latest version using  yt-dlp -U\n\n    at BilibiliExtractor.extractAudio (/Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/audio/extractor.js:77:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AudioManager.playBilibiliVideo (/Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/audio/manager.js:92:25)\n    at async Object.execute (/Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/bot/commands/play.js:76:22)\n    at async Client.<anonymous> (/Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/bot/client.js:111:9)","timestamp":"2025-09-01T10:11:41.135Z","url":"https://www.bilibili.com/video/BV1uv4y1q7Mv","user":"bk233"}
{"channelId":"1376318049463963692","error":"Voice connection timeout","level":"error","message":"Failed to join voice channel","service":"bilibili-discord-bot","timestamp":"2025-09-01T10:17:14.559Z"}
{"level":"error","message":"Unhandled promise rejection","promise":{},"reason":"Unknown interaction","service":"bilibili-discord-bot","stack":"DiscordAPIError[10062]: Unknown interaction\n    at handleErrors (/Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/@discordjs/rest/dist/index.js:762:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BurstHandler.runRequest (/Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/@discordjs/rest/dist/index.js:866:23)\n    at async _REST.request (/Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/@discordjs/rest/dist/index.js:1307:22)\n    at async ChatInputCommandInteraction.reply (/Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/discord.js/src/structures/interfaces/InteractionResponses.js:200:22)","timestamp":"2025-09-01T10:17:47.492Z"}
{"error":"Unknown interaction","level":"error","message":"Play command failed","service":"bilibili-discord-bot","stack":"DiscordAPIError[10062]: Unknown interaction\n    at handleErrors (/Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/@discordjs/rest/dist/index.js:762:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BurstHandler.runRequest (/Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/@discordjs/rest/dist/index.js:866:23)\n    at async _REST.request (/Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/@discordjs/rest/dist/index.js:1307:22)\n    at async ChatInputCommandInteraction.reply (/Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/discord.js/src/structures/interfaces/InteractionResponses.js:200:22)\n    at async Object.execute (/Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/bot/commands/play.js:71:7)\n    at async Client.<anonymous> (/Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/bot/client.js:111:9)","timestamp":"2025-09-01T10:17:47.559Z","url":"https://www.bilibili.com/video/BV1uv4y1q7Mv","user":"bk233"}
{"error":"Unknown interaction","level":"error","message":"Failed to send error response","service":"bilibili-discord-bot","timestamp":"2025-09-01T10:17:47.872Z"}
{"error":"Error: Cannot find module '@discordjs/opus'\nRequire stack:\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/util/loader.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/opus/Opus.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/opus/index.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/index.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/@discordjs/voice/dist/index.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/audio/player.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/audio/manager.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/index.js\nError: Cannot find module 'node-opus'\nRequire stack:\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/util/loader.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/opus/Opus.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/opus/index.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/index.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/@discordjs/voice/dist/index.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/audio/player.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/audio/manager.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/index.js\nError: Cannot find module 'opusscript'\nRequire stack:\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/util/loader.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/opus/Opus.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/opus/index.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/index.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/@discordjs/voice/dist/index.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/audio/player.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/audio/manager.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/index.js","level":"error","message":"Failed to create Discord audio resource","service":"bilibili-discord-bot","timestamp":"2025-09-01T10:30:30.300Z"}
{"error":"Failed to create audio resource: Error: Cannot find module '@discordjs/opus'\nRequire stack:\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/util/loader.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/opus/Opus.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/opus/index.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/index.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/@discordjs/voice/dist/index.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/audio/player.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/audio/manager.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/index.js\nError: Cannot find module 'node-opus'\nRequire stack:\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/util/loader.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/opus/Opus.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/opus/index.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/index.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/@discordjs/voice/dist/index.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/audio/player.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/audio/manager.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/index.js\nError: Cannot find module 'opusscript'\nRequire stack:\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/util/loader.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/opus/Opus.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/opus/index.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/index.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/@discordjs/voice/dist/index.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/audio/player.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/audio/manager.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/index.js","level":"error","message":"Failed to play track","playerStatus":"idle","service":"bilibili-discord-bot","stack":"Error: Failed to create audio resource: Error: Cannot find module '@discordjs/opus'\nRequire stack:\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/util/loader.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/opus/Opus.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/opus/index.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/index.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/@discordjs/voice/dist/index.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/audio/player.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/audio/manager.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/index.js\nError: Cannot find module 'node-opus'\nRequire stack:\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/util/loader.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/opus/Opus.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/opus/index.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/index.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/@discordjs/voice/dist/index.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/audio/player.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/audio/manager.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/index.js\nError: Cannot find module 'opusscript'\nRequire stack:\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/util/loader.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/opus/Opus.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/opus/index.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/index.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/@discordjs/voice/dist/index.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/audio/player.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/audio/manager.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/index.js\n    at ChildProcess.<anonymous> (/Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/audio/player.js:446:15)\n    at ChildProcess.emit (node:events:507:28)\n    at maybeClose (node:internal/child_process:1101:16)\n    at Socket.<anonymous> (node:internal/child_process:457:11)\n    at Socket.emit (node:events:507:28)\n    at Pipe.<anonymous> (node:net:351:12)","timestamp":"2025-09-01T10:30:30.301Z","title":"韩红-一个人 伴奏 高音质纯伴奏高品每天爱你多一些 长宇 晨悠组合 无损伴奏","voiceConnectionStatus":"ready"}
{"error":"Failed to create audio resource: Error: Cannot find module '@discordjs/opus'\nRequire stack:\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/util/loader.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/opus/Opus.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/opus/index.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/index.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/@discordjs/voice/dist/index.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/audio/player.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/audio/manager.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/index.js\nError: Cannot find module 'node-opus'\nRequire stack:\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/util/loader.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/opus/Opus.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/opus/index.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/index.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/@discordjs/voice/dist/index.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/audio/player.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/audio/manager.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/index.js\nError: Cannot find module 'opusscript'\nRequire stack:\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/util/loader.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/opus/Opus.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/opus/index.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/prism-media/src/index.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/node_modules/@discordjs/voice/dist/index.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/audio/player.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/audio/manager.js\n- /Users/bryan/Desktop/Projects/Mine/Bilibili Player/src/index.js","guild":"1376318047794761838","level":"error","message":"Playback error occurred","service":"bilibili-discord-bot","timestamp":"2025-09-01T10:30:30.302Z","track":"韩红-一个人 伴奏 高音质纯伴奏高品每天爱你多一些 长宇 晨悠组合 无损伴奏"}
